## Sass

##### 简介：
###### Sass 是一款强化 CSS 的辅助工具，它在 CSS 语法的基础上增加了变量 (variables)、嵌套 (nested rules)、混合 (mixins)、导入 (inline imports) 等高级功能，这些拓展令 CSS 更加强大与优雅。使用 Sass 以及 Sass 的样式库（如 Compass）有助于更好地组织管理样式文件，以及更高效地开发项目
---


### 一. 安装
css中使用：
安装<a target="_blank" href="https://rubyinstaller.org/downloads/">Ruby</a>，安装完成后ruby -v 查看版本

    gem install sass
    sass input.scss output.css

cli中使用：

    npm install node-sass --save-dev
    npm install sass-loader --save-dev

### 二. 后缀名 .sass .scss区别
```scss
/* sass */
$primary-color: #333

body
  color: $primary-color
```
```scss
/* scss */
$primary-color: #333;

body {
  color: $primary-color;
}
```
::: tip
区别：
    没有分号，
    没有 {}，使用缩进方式
:::

---

### 1. 父选择器用法
```scss
a {
    font-weight: bold;
    text-decoration: none;
    <!-- 1 -->
    &:hover { text-decoration: underline; }
    <!-- 2 -->
    body.firefox & { font-weight: normal; }
}

#main {
    color: black;
    <!-- 3 -->
    &-sidebar { border: 1px solid; }
}

<!-- 1为常规用法，2即代表：body.firefox a，3. #main-sidebar -->
```
### 2. 属性嵌套
```scss
/* font-family, font-size, font-weight 都以 font 作为属性的命名空间 */
.funky {
  font: {
    family: fantasy;
    size: 30em;
    weight: bold;
  }
}
```
### 3. 注释
```scss
/* 1. 单行注释不会被编译到css（//） */
/* 2. 多行注释第一个字符 ！会在压缩输出模式下也保持原样 */
$version: "1.2.3";
/* This CSS is generated by My Snazzy Framework version #{$version}. */
```
### 4. maps的使用
```scss
/* 格式：（key：value1， key2：value2） */
/* 定义map变量： */
$colors: ( primary: #FFB01D, secondary: #F2452A, danger: #F53D3D, light: #F4F4F4, dark: #222, border:#F6F6F6);
#main{
  font-color: map-get($colors,'primary');
}
/* 编译后 */
#main{
  font-color: #FFB01D;
}
```
### 4.1 list的使用
```scss
/* 用空格或逗号作分隔符， 1.5em 1em 0 2em， Helvetica，Arial，Sans-serif */
/* (1px 2px) (5px 6px) 与 1px 2px, 5px 6px */
/* 前者是包含两个数组的数组，而后者是包含四个值的数组 */
/* nth 函数可以直接访问数组中的某一项；join 函数可以将多个数组连接在一起；append 函数可以在数组中添加新值；而 @each 指令能够遍历数组中的每一项 */
// 参考 7 - @each
```
### 5. 插值语句
```scss
/* 将局部变量转换为全局变量可以添加 !global 声明： */
$name: foo;
$attr: border;
p.#{$name} {
  $width: 200px !global;
  #{$attr}-color: blue;
}
.global1 {
    width:$width;
}
```
### 6. @extend
```scss
/* 在设计网页的时候常常遇到这种情况：一个元素使用的样式与另一个元素完全相同，但又添加了额外的样式。通常会在 HTML 中给元素定义两个 class，一个通用样式，一个特殊样式。假设现在要设计一个普通错误样式与一个严重错误样式，一般会这样写： */
<div class="error seriousError"></div>

/* 现在： */
.error {
  border: 1px #f00;
  background-color: #fdd;
}
.seriousError {
  @extend .error;
  border-width: 3px;
}
<div class="seriousError"></div>
/* 注意： */
.error.intrusion {
  background-image: url("/image/hacked.png");
}
<div class="seriousError intriusion">
/* 即使在div中没有类名error, 但是seriousError已经引用了error，所以还是会展现图片 */

/* 被@extend的也可以是标签 */
.hoverlink {
  @extend a:hover;
}
a:hover {
  text-decoration: underline;
}

/* 高级用法，配合占位符选择器使用 */
/* 占位符选择器： %name */
#content a%attr {
    color: red;
}
.notice {
    @extend %attr;
}
/* 结果： */
#content a.notice {
    color: red;
}
```
### 7. 控制指令
```scss
/* @if @else */
$type: monster;
p {
  @if $type == ocean {
    color: blue;
  } @else if $type == matador {
    color: red;
  } @else if $type == monster {
    color: green;
  } @else {
    color: black;
  }
}
/**
    @for
    语法： @for $var from <start> through <end>，或者 @for $var from <start> to <end>
    区别： through包含start、end；to只包含start
    注意：start、end必须是整数
 */
 @for $i from 1 through 3 {
  .item-#{$i} { width: 2em * $i; }
}
// 即
.item-1 {
  width: 2em; }
.item-2 {
  width: 4em; }
.item-3 {
  width: 6em; }

/**
    $var in <list>
 */
@each $animal in puma, sea-slug, egret, salamander {
    .#{$animal}-icon {
        background-image: url('/images/#{$animal}.png');
    }
}
// 即
.puma-icon {
  background-image: url('/images/puma.png');
}
...
/**
    $while
 */
$i: 6;
@while $i > 0 {
  .item-#{$i} { width: 2em * $i; }
  $i: $i - 2;
}
// 猜猜结果是什么样的？
```
### 8. 混合指令 @mixin
```scss
@mixin text {
  color: #ff0000;
}
// 可传入参数，与function用法一致：形参、实参、默认值
@mixin text($color: red) {
  color: $color;
}
// 不确定参数数量
@mixin colors($text, $background, $border) {
  color: $text; //#ff0000
  background-color: $background; //#00ff00
  border-color: $border; //#0000ff
}
$values: #ff0000, #00ff00, #0000ff;
.primary {
  @include colors($values...);
}
// 类似于slot用法
@mixin apply-to-ie6-only {
  * html {
    @content;
  }
}
@include apply-to-ie6-only {
  #logo {
    background-image: url(/logo.gif);
  }
}
// 即 将logo放在@content的位置
* html #logo {
  background-image: url(/logo.gif);
}
```
### 8. 引用混合指令 @include
```scss
.page-title {
  @include text;
}
// 即
.page-title {
    color: #ff0000
}
// 也可以直接使用
@mixin silly-links {
  a {
    color: blue;
  }
}
@include silly-links;
// 即
a {
    color: blue;
}
```
### 9. 函数 @function
```scss
$grid-width: 40px;
$gutter-width: 10px;

@function grid-width($n) {
  @return $n * $grid-width + ($n - 1) * $gutter-width;
  //       5 *  200        + (5 - 1)  *  10
}

#sidebar { width: grid-width(5); }
// 即
#sidebar { width: 240px; }
```